const horarios = {
  "Dom 3 ago": {
    "7 a.m.": [
      "Inicio de turno",
      "Desayuno personal",
      "Dejar pertenencias",
      "Llevar a Rosa al baño y luego al comedor"
    ],
    "7:45 a.m.": ["Preparar desayuno de residentes"],
    "8 a.m.": [
      "Servir desayuno a todas",
      "Rosa: ayudar a comer",
      "Cecilia y Adelina: huevo (revuelto/sancochado), pan, infusión",
      "Adelina: leche con agua hervida",
      "Dilma: pan con relleno, avena y jugo de papaya",
      "Iris: pan con aceitunas, infusión, jugo de papaya",
      "Dora: licuado por sonda",
      "Cecilia: pastilla en desayuno",
      "Adelina: pastillas + valeriana"
    ],
    "9 a.m.": [
      "Cambio de pañal a Dora y Dilma",
      "Cambio de pañal o chata a Iris",
      "Cambio de pañal a Adelina si no se baña",
      "Cecilia: baño diario",
      "Bañar a Iris (alternando con Dilma)"
    ],
    "10 a.m.": [
      "Dar licuado a Dora (colado)",
      "Revisar cuartos, limpiar pote de Iris y Dilma con lejía",
      "Mantener camas limpias y ordenadas"
    ],
    "11:30 a.m.": [
      "Pedir dieta especial para Adelina",
      "Pedir segundo especial para Cecilia (está a dieta)",
      "Bajar a Iris y Dilma para almorzar en comedor del primer piso"
    ],
    "12 p.m.": [
      "Servir almuerzo",
      "Cecilia: sopa en vaso + segundo dieta",
      "Adelina: sopa, pollo deshilachado, camote, agua",
      "Dora: colar y guardar almuerzo licuado para las 3 p.m.",
      "Rosa: ayudar a comer",
      "Iris y Dilma: almuerzan en primer piso",
      "Cecilia: toma Atorvastatina"
    ],
    "1 p.m.": [
      "Almuerzo personal",
      "Rosa: llevar al baño y sillón"
    ],
    "3 p.m.": [
      "Dar comida licuada a Dora"
    ],
    "4:30 p.m.": [
      "Preparar cena",
      "Limpieza general del entorno"
    ],
    "5 p.m.": [
      "Servir cena",
      "Dora: licuado del almuerzo",
      "Rosa: ayudar a comer"
    ],
    "5:45 p.m.": [
      "Rosa: baño, pañal, gotas (timolol, lágrimas), gaseobet, mentol"
    ],
    "7 p.m.": [
      "Adelina: 2 puffs, lágrimas artificiales, oxígeno (nebulización) al 2%"
    ],
    "8:15 p.m.": [
      "Colocar chata a
        "Mar 5 ago": {
    "9 a.m.": [
      "Cambio de pañal a Adelina si no se baña",
      "Cecilia: baño diario (si no está su cuidadora)",
      "Bañar a Dilma (alternando con Iris)"
    ],
    "10 a.m.": [
      "Dar licuado a Dora",
      "Revisar cuarto Iris/Dilma",
      "Cambio de sábanas de Adelina (Martes)"
    ],
    "12 p.m.": [
      "Finalizar responsabilidades",
      "Entrega de turno"
    ]
  },

  "Jue 7 ago": {
    "7 a.m.": [
      "Inicio de turno",
      "Desayuno personal",
      "Dejar pertenencias",
      "Llevar a Rosa al baño y luego al comedor"
    ],
    "7:45 a.m.": ["Preparar desayuno de residentes"],
    "8 a.m.": [
      "Servir desayuno a todas",
      "Respetar dieta y preferencias",
      "Dar medicación desayuno"
    ],
    "9 a.m.": [
      "Cambio de pañal a Adelina (si no se baña)",
      "Bañar a Iris (alternando)",
      "Cecilia: baño diario"
    ],
    "10 a.m.": [
      "Dar licuado a Dora",
      "Revisión de cuartos y limpieza"
    ],
    "11:30 a.m.": [
      "Pedir dieta especial para Adelina y segundo para Cecilia",
      "Bajar a Iris y Dilma para almorzar"
    ],
    "12 p.m.": [
      "Servir almuerzo completo",
      "Atención especial a Dora y Rosa",
      "Cecilia: Atorvastatina"
    ],
    "1 p.m.": [
      "Almuerzo personal",
      "Llevar a Rosa al baño y al sillón"
    ],
    "3 p.m.": [
      "Dar comida licuada a Dora"
    ],
    "4:30 p.m.": ["Preparativos para la cena"],
    "5 p.m.": [
      "Servir cena",
      "Rosa: baño, gotas y mentol",
      "Dora: licuado del almuerzo"
    ],
    "7 p.m.": [
      "Adelina: 2 puffs, lágrimas, oxígeno/nebulizador"
    ],
    "8:15 p.m.": ["Chata y pañal para Adelina"],
    "9 p.m.": ["Preparar para dormir"],
    "10 p.m.": ["Luces apagadas", "Descanso hasta medianoche"]
  },

  "Vie 8 ago": {
    "12 a.m.": ["Revisión general de pacientes"],
    "1 a.m.": ["Revisión general de pacientes"],
    "2 a.m.": ["Revisión general de pacientes"],
    "3 a.m.": ["Revisión general de pacientes"],
    "4 a.m.": [
      "Cambio de pañal a Dilma",
      "Lavado perineal Dora",
      "Lavado y cambio pañal Adelina",
      "Signos vitales a Adelina, Iris, Dilma, vecina",
      "Dar pastilla ayuno a vecina, Iris"
    ],
    "5 a.m.": ["Bañarse una misma y alistarse"],
    "7 a.m.": [
      "Desayuno personal",
      "Iniciar actividades diarias"
    ],
    "8 a.m.": ["Desayuno general", "Medicación desayuno"],
    "9:30 a.m.": [
      "Bañar a Adelina (viernes)",
      "Cecilia: baño diario",
      "Bañar a Dilma o Iris (según alternancia)"
    ],
    "10 a.m.": [
      "Dar licuado a Dora",
      "Revisión cuartos"
    ]
  },
        "Sáb 9 ago": {
    "12 a.m.": ["Revisión general de pacientes"],
    "1 a.m.": ["Revisión general de pacientes"],
    "2 a.m.": ["Revisión general de pacientes"],
    "3 a.m.": ["Revisión general de pacientes"],
    "4 a.m.": [
      "Cambio de pañal a Dilma",
      "Lavado perineal Dora",
      "Lavado y cambio pañal Adelina",
      "Signos vitales a Adelina, Iris, Dilma, vecina",
      "Dar pastilla ayuno a vecina, Iris"
    ],
    "5 a.m.": ["Bañarse una misma y alistarse"],
    "7 a.m.": [
      "Finalizar responsabilidades",
      "Entrega de turno"
    ]
  },

  "Lun 11 ago": {
    "7 a.m.": [
      "Inicio de turno",
      "Desayuno personal",
      "Dejar pertenencias",
      "Llevar a Rosa al baño y luego al comedor"
    ],
    "7:45 a.m.": ["Preparar desayuno de residentes"],
    "8 a.m.": [
      "Servir desayuno",
      "Dar medicación desayuno"
    ],
    "9 a.m.": [
      "Cambio de pañal a Adelina (si no se baña)",
      "Cecilia: baño diario",
      "Bañar a Iris o Dilma (según alternancia)"
    ],
    "10 a.m.": [
      "Dar licuado a Dora",
      "Revisión habitaciones"
    ],
    "11:30 a.m.": [
      "Pedir dieta Adelina y segundo para Cecilia",
      "Bajar a Iris y Dilma"
    ],
    "12 p.m.": [
      "Servir almuerzo",
      "Cecilia: Atorvastatina",
      "Atención a Rosa y Dora"
    ],
    "1 p.m.": [
      "Almuerzo personal",
      "Rosa: baño y sillón"
    ],
    "3 p.m.": [
      "Dar comida licuada a Dora"
    ],
    "4:30 p.m.": ["Preparativos para cena"],
    "5 p.m.": [
      "Servir cena",
      "Gotas y mentol a Rosa",
      "Dora: licuado del almuerzo"
    ],
    "7 p.m.": [
      "Adelina: 2 puffs, lágrimas, oxígeno/nebulizador"
    ],
    "8:15 p.m.": ["Chata y pañal para Adelina"],
    "10 p.m.": ["Luces apagadas", "Descanso hasta medianoche"]
  },

  "Mar 12 ago": {
    "12 a.m.": ["Revisión general de pacientes"],
    "1 a.m.": ["Revisión general de pacientes"],
    "2 a.m.": ["Revisión general de pacientes"],
    "3 a.m.": ["Revisión general de pacientes"],
    "4 a.m.": [
      "Cambio de pañal a Dilma",
      "Lavado perineal Dora",
      "Lavado y cambio pañal Adelina",
      "Signos vitales Adelina, Iris, Dilma, vecina",
      "Dar pastilla ayuno vecina, Iris"
    ],
    "5 a.m.": ["Bañarse y alistarse"],
    "7 a.m.": [
      "Finalizar turno",
      "Entrega"
    ]
  }
  "Vie 15 ago": {
    "7 a.m.": [
      "Inicio de turno",
      "Desayuno personal",
      "Dejar pertenencias",
      "Llevar a Rosa al baño y luego al comedor"
    ],
    "7:45 a.m.": ["Preparar desayuno"],
    "8 a.m.": [
      "Servir desayuno",
      "Dar medicación desayuno"
    ],
    "9:30 a.m.": [
      "Bañar a Adelina (viernes)",
      "Cecilia: baño diario",
      "Bañar a Iris o Dilma"
    ],
    "10 a.m.": [
      "Licuado para Dora",
      "Limpieza habitaciones"
    ],
    "11:30 a.m.": [
      "Pedir dieta Adelina y segundo para Cecilia",
      "Bajar a Iris y Dilma"
    ],
    "12 p.m.": [
      "Servir almuerzo",
      "Cecilia: Atorvastatina",
      "Dora: comida licuada"
    ],
    "1 p.m.": ["Rosa: baño y sillón", "Almuerzo personal"],
    "3 p.m.": ["Dar comida a Dora"],
    "4:30 p.m.": ["Preparar cena"],
    "5 p.m.": [
      "Servir cena",
      "Rosita: baño, gotas, mentol",
      "Dora: comida licuada"
    ],
    "7 p.m.": [
      "Adelina: 2 puffs, lágrimas, oxígeno"
    ],
    "8:15 p.m.": ["Chata y pañal para Adelina"],
    "10 p.m.": ["Luces apagadas", "Descanso hasta medianoche"]
  },

  "Sáb 16 ago": {
    "12 a.m.": ["Revisión general"],
    "1 a.m.": ["Revisión general"],
    "2 a.m.": ["Revisión general"],
    "3 a.m.": ["Revisión general"],
    "4 a.m.": [
      "Cambio de pañal a Dilma",
      "Lavado perineal Dora",
      "Cambio y lavado Adelina",
      "Signos vitales",
      "Medicación en ayunas"
    ],
    "5 a.m.": ["Bañarse y alistarse"],
    "7 a.m.": [
      "Finalizar actividades",
      "Entrega de turno"
      ]
  }
};

const headerRow = document.getElementById('header-row');
const timeCol = document.createElement('th');
timeCol.textContent = "Hora";
headerRow.appendChild(timeCol);
Object.keys(cronograma).forEach(fecha => {
  const th = document.createElement('th');
  th.textContent = fecha;
  headerRow.appendChild(th);
});

const horarios = [
  "7 a.m.", "7:30 a.m.", "7:45 a.m.", "8 a.m.", "9 a.m.", "9:30 a.m.", "10 a.m.",
  "11:30 a.m.", "12 p.m.", "1 p.m.", "3 p.m.", "4:30 p.m.", "5 p.m.",
  "7 p.m.", "8:15 p.m.", "9 p.m.", "10 p.m.", "12 a.m.", "1 a.m.",
  "2 a.m.", "3 a.m.", "4 a.m.", "5 a.m.", "7 a.m."
];

const body = document.getElementById('cronograma-body');
horarios.forEach(hora => {
  const row = document.createElement('tr');
  const horaCell = document.createElement('td');
  horaCell.classList.add('hora');
  horaCell.textContent = hora;
  row.appendChild(horaCell);

  Object.keys(cronograma).forEach(fecha => {
    const cell = document.createElement('td');
    const tareas = cronograma[fecha][hora];
    if (tareas) {
      tareas.forEach(t => {
        const item = document.createElement('div');
        item.classList.add('tarea');
        item.textContent = t;
        item.addEventListener('click', () => item.classList.toggle('tachado'));
        cell.appendChild(item);
      });
    }
    row.appendChild(cell);
  });

  body.appendChild(row);
});

const toggle = document.getElementById('toggle-dark');
if (toggle) {
  toggle.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
  });
}

function marcarTurnoCompleto(fecha) {
  const columnas = document.querySelectorAll(`#cronograma-table td:nth-child(${Object.keys(cronograma).indexOf(fecha) + 2}) .tarea`);
  columnas.forEach(tarea => tarea.classList.add('tachado'));
}

function desmarcarTurno(fecha) {
  const columnas = document.querySelectorAll(`#cronograma-table td:nth-child(${Object.keys(cronograma).indexOf(fecha) + 2}) .tarea`);
  columnas.forEach(tarea => tarea.classList.remove('tachado'));
}

const celdas = document.querySelectorAll('#cronograma-table td');
celdas.forEach(celda => {
  celda.addEventListener('mouseenter', () => {
    celda.classList.add('resaltado');
  });
  celda.addEventListener('mouseleave', () => {
    celda.classList.remove('resaltado');
  });
});
